<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantheum Innovations - Oni</title>
    <link rel="stylesheet" type="text/css" href="./oni.css">
    <link rel="stylesheet" type="text/css" href="./styles.css">
</head>
<body>
    <nav class="nav-bar">
        <img class="nav-logo" src="./images/logo.png"></img>

        <ul>
            <li><a href="./index.html">Home</a></li>
            <li><a href="./deschool.html">DeSchool</a></li>
            <li><a href="./uploads.html">Uploads Project</a></li>
            <li class="dropdown">
                <a href="./oni.html" class="dropbtn">Oni</a>
                <div class="dropdown-content">
                    <a href="./oni.html">Hyper Chat</a>
                    <a href="#">Use Oni in your business</a>
                    <a href="#">ONI Support</a>
                </div>
            </li>
        </ul>
    </nav>

    <main class="main-content">
        <section class="half">
            <div class="hero">
                <h2>Oni - Your Intelligent Assistant</h2>
                <p>Oni is a fully modular AGI system capable of performing a wide range of tasks. From data analysis to interactive dialogue, Oni is here to help.</p>
            </div>
            <img class="image" src="./images/bot.jpg" alt="Bot Image">
        </section>

        <div class="chatbot">
            <div class="conversation-history">
                <h3>Conversation History</h3>
                <ul id="conversation-history">
                    <!-- Conversation history will be displayed here -->
                </ul>
                <button type="button" id="clear-history-button">Clear Conversation History</button>
            </div>
            <div class="chat-input">
                <h3>Chat with Oni</h3>
                <ul class="message-history" id="message-history">
                    <!-- Message history will be displayed here -->
                </ul>
                <div>
                    <p>
                        <label for="agent-select">Choose Agent:</label>
                        <select id="agent-select">
                            <option value="agent1">Web Crawler(Browser Search)</option>
                            <option value="agent2">Coder</option>
                            <option value="agent3">Translator</option>
                            <option value="agent4">Councelor</option>
                            <option value="agent5">Musician</option>
                            <option value="agent6">Physicist (also Math)</option>
                            <option value="agent7">Artist</option>
                        </select>
                        <label for="memory-switch">Memory:</label>
                        <select id="memory-switch">
                            <option value="on">On</option>
                            <option value="off">Off</option>
                        </select>
                        <label for="model-select">Choose Model:</label>
                        <select id="model-select">
                            <option value="model1">Hive</option>
                            <option value="model2">Hyper</option>
                            <option value="model3">S</option>
                        </select>
                    </p>
                    <p>
                        <input type="text" id="chat-input" placeholder="Say something...">
                    </p>
                    <p>
                        <button type="submit" id="send-button">Send</button>
                        <button type="button" id="clear-button">Clear Conversation</button>
                        <button type="button" id="file-button">Upload File</button>
                        <button type="button" id="mic-button">Microphone</button>
                        <button type="button" id="video-button">OniCam Chat</button>
                    </p>
                </div>

            </div>
        </div>

        <iframe src="https://ahricat-google-gemma-7b.hf.space" frameborder="1" width="100%" height="420" border-radius="10px" box-shadow="0 0 15px rgba(0, 255, 0, 0.5)"></iframe>

    </main>

    <section class="margin-before-footer"/>

    <footer>
        <p>&copy; 2024 Pantheum Innovations. All rights reserved.</p>
    </footer>

    <script>
        let firstMessage = true;

        document.getElementById("send-button").addEventListener("click", function() {
            const chatInput = document.getElementById("chat-input");
            const messageHistory = document.getElementById("message-history");
            const conversationHistory = document.getElementById("conversation-history");
            const memorySwitch = document.getElementById("memory-switch");
            const message = chatInput.value;
            chatInput.value = "";

            // Add message to message history
            const messageHTML = `<li>${message}</li>`;
            messageHistory.innerHTML += messageHTML;

            if (memorySwitch.value === "on") {
                // Add conversation to conversation history if this is the first message
                if (firstMessage) {
                    const conversationLabel = message.substring(0, 20);
                    const conversationHTML = `<li><a href="#">${conversationLabel}</a></li>`;
                    conversationHistory.innerHTML += conversationHTML;
                    firstMessage = false;
                }
            }
        });

        // Reset firstMessage flag when agent is changed
        document.getElementById("agent-select").addEventListener("change", function() {
            firstMessage = true;
        });

        // Reset firstMessage flag when memory switch is changed
        document.getElementById("memory-switch").addEventListener("change", function() {
            firstMessage = true;
        });

        // Clear conversation history
        document.getElementById("clear-history-button").addEventListener("click", function() {
            document.getElementById("conversation-history").innerHTML = "";
        });

        // Clear message history
        document.getElementById("clear-button").addEventListener("click", function() {
            document.getElementById("message-history").innerHTML = "";
        });

        // Upload file functionality (stub)
        document.getElementById("file-button").addEventListener("click", function() {
            alert("File upload feature coming soon!");
        });

        // Microphone functionality (stub)
        document.getElementById("mic-button").addEventListener("click", function() {
            alert("Microphone feature coming soon!");
        });

        // OniCam Chat functionality (stub)
        document.getElementById("video-button").addEventListener("click", function() {
            alert("OniCam Chat feature coming soon!");
        });
    </script>

</body>
</html>
